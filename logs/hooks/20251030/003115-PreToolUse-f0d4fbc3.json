{"session_id":"f0d4fbc3-a5b1-443e-8264-7550e32cfe6a","transcript_path":"/home/thomas/.claude/projects/-home-thomas-Repositories-LangChangeWorkflows/f0d4fbc3-a5b1-443e-8264-7550e32cfe6a.jsonl","cwd":"/home/thomas/Repositories/LangChangeWorkflows","permission_mode":"acceptEdits","hook_event_name":"PreToolUse","tool_name":"Write","tool_input":{"file_path":"/home/thomas/Repositories/LangChangeWorkflows/examples/test_basic_import.py","content":"#!/usr/bin/env python3\n\"\"\"\nTest Basic Import - Verify LangGraph Workflow Can Be Imported\n\nThis tests that all dependencies are installed and the workflow can be loaded.\nRun this FIRST before trying the full workflow.\n\nUsage:\n    cd /home/thomas/Repositories/LangChangeWorkflows\n    python examples/test_basic_import.py\n\"\"\"\n\nimport sys\nfrom pathlib import Path\n\n# Add parent directory to path\nsys.path.insert(0, str(Path(__file__).parent.parent))\n\nprint(\"Testing LangGraph Workflow Import...\")\nprint(\"=\" * 60)\n\n# Test 1: Check environment\nprint(\"\\n1. Checking environment...\")\ntry:\n    from dotenv import load_dotenv\n    import os\n\n    load_dotenv()\n\n    api_key = os.getenv(\"ANTHROPIC_API_KEY\")\n    if api_key:\n        print(\"   ✓ .env file loaded\")\n        print(f\"   ✓ ANTHROPIC_API_KEY found (starts with: {api_key[:10]}...)\")\n    else:\n        print(\"   ✗ ANTHROPIC_API_KEY not found in .env\")\n        print(\"   → Create .env file with: ANTHROPIC_API_KEY=sk-ant-...\")\nexcept Exception as e:\n    print(f\"   ✗ Environment error: {e}\")\n\n# Test 2: Import LangGraph dependencies\nprint(\"\\n2. Checking LangGraph dependencies...\")\ntry:\n    import langgraph\n    print(f\"   ✓ langgraph installed (version: {langgraph.__version__ if hasattr(langgraph, '__version__') else 'unknown'})\")\nexcept ImportError as e:\n    print(f\"   ✗ langgraph not installed\")\n    print(f\"   → Run: pip install langgraph\")\n\ntry:\n    import anthropic\n    print(f\"   ✓ anthropic installed (version: {anthropic.__version__})\")\nexcept ImportError:\n    print(f\"   ✗ anthropic not installed\")\n    print(f\"   → Run: pip install anthropic\")\n\n# Test 3: Import workflow modules\nprint(\"\\n3. Checking workflow modules...\")\ntry:\n    from langgraph.schemas.prp_state import PRPState, ValidationResult\n    print(\"   ✓ Schemas imported\")\nexcept ImportError as e:\n    print(f\"   ✗ Schemas import failed: {e}\")\n\ntry:\n    from langgraph.utils.context_optimizer import ContextOptimizer\n    print(\"   ✓ Context optimizer imported\")\nexcept ImportError as e:\n    print(f\"   ✗ Context optimizer import failed: {e}\")\n\ntry:\n    from langgraph.utils.agent_coordinator import AgentCoordinator\n    print(\"   ✓ Agent coordinator imported\")\nexcept ImportError as e:\n    print(f\"   ✗ Agent coordinator import failed: {e}\")\n\ntry:\n    from langgraph.utils.state_persistence import StatePersistence\n    print(\"   ✓ State persistence imported\")\nexcept ImportError as e:\n    print(f\"   ✗ State persistence import failed: {e}\")\n\n# Test 4: Import main workflow\nprint(\"\\n4. Checking main workflow...\")\ntry:\n    from langgraph.workflows.base_prp_workflow import BasePRPWorkflow\n    print(\"   ✓ BasePRPWorkflow imported\")\n\n    # Try to instantiate\n    workflow = BasePRPWorkflow(\n        enable_checkpointing=False,  # Disable for test\n        enable_context_optimization=False\n    )\n    print(\"   ✓ BasePRPWorkflow instantiated\")\n    print(f\"   → Config loaded with {len(workflow.config.get('gates', {}))} gates\")\n\nexcept Exception as e:\n    print(f\"   ✗ BasePRPWorkflow error: {e}\")\n    import traceback\n    traceback.print_exc()\n\n# Test 5: Check configuration files\nprint(\"\\n5. Checking configuration files...\")\nconfig_files = [\n    \"langgraph/config/default_gates.yaml\",\n    \"langgraph/config/default_thresholds.yaml\",\n    \"langgraph/config/agent_mapping.yaml\"\n]\n\nfor config_file in config_files:\n    config_path = Path(__file__).parent.parent / config_file\n    if config_path.exists():\n        print(f\"   ✓ {config_file}\")\n    else:\n        print(f\"   ✗ {config_file} not found\")\n\n# Summary\nprint(\"\\n\" + \"=\" * 60)\nprint(\"Import Test Complete!\")\nprint(\"\\nIf all tests passed, you're ready to run the workflow.\")\nprint(\"Try: python examples/simple_runner.py\")\nprint(\"=\" * 60)\n"}}
