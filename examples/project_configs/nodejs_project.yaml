# Configuration Override for Node.js/TypeScript Projects
# Copy this to your project as .langgraph/config/gates.yaml

extends: "~/.claude/langgraph/config/default_gates.yaml"

# Project-specific settings
project:
  type: "nodejs"
  language: "typescript"

  # Node.js directory structure
  source_directories:
    - "src/"
    - "lib/"
    - "dist/"  # Compiled output

  test_directories:
    - "tests/"
    - "test/"
    - "__tests__/"
    - "spec/"

  # Coverage tool
  coverage_tool: "jest"  # or "vitest", "mocha+nyc"

# Gate configuration
gates:
  gate_2_coverage:
    enabled: true
    threshold: 100
    # Node.js specific coverage command
    coverage_command: "npm run test:coverage"
    # Alternative: "jest --coverage" or "vitest run --coverage"

  gate_3_mock:
    enabled: true
    # Node.js mock patterns
    blocked_patterns:
      - "jest.mock"
      - "vi.mock"
      - "sinon"
      - ".mockReturnValue"
      - ".mockResolvedValue"

    # Allowed in test files only
    allowed_in_tests: true
